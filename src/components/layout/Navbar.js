import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import { Menu, X, User, LogOut, FileText } from 'lucide-react';
import { useAuth } from '../../context/AuthContext';
import Button from '../ui/Button';
const Navbar = () => {
    const { user, logout, isAuthenticated } = useAuth();
    const [isMenuOpen, setIsMenuOpen] = useState(false);
    const navigate = useNavigate();
    const toggleMenu = () => {
        setIsMenuOpen(!isMenuOpen);
    };
    const handleLogout = () => {
        logout();
        navigate('/login');
        setIsMenuOpen(false);
    };
    return (_jsxs("nav", { className: "bg-blue-900 text-white shadow-md", children: [_jsx("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8", children: _jsxs("div", { className: "flex justify-between h-16", children: [_jsx("div", { className: "flex items-center", children: _jsxs(Link, { to: "/", className: "flex items-center space-x-2", children: [_jsx(FileText, { className: "h-8 w-8 text-teal-400" }), _jsx("span", { className: "text-xl font-bold", children: "CV Sorter" })] }) }), _jsx("div", { className: "hidden md:flex md:items-center md:space-x-4", children: isAuthenticated ? (_jsxs(_Fragment, { children: [_jsx(Link, { to: "/dashboard", className: "px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-800", children: "Dashboard" }), (user === null || user === void 0 ? void 0 : user.role) === 'admin' && (_jsx(Link, { to: "/admin", className: "px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-800", children: "Admin Panel" })), _jsx("div", { className: "relative ml-3", children: _jsxs("div", { className: "flex items-center space-x-3", children: [_jsx("span", { className: "text-sm font-medium", children: user === null || user === void 0 ? void 0 : user.name }), _jsx(Button, { variant: "outline", size: "sm", onClick: handleLogout, className: "text-white border-white hover:bg-blue-800", icon: _jsx(LogOut, { className: "h-4 w-4" }), children: "Logout" })] }) })] })) : (_jsxs("div", { className: "flex space-x-3", children: [_jsx(Link, { to: "/login", children: _jsx(Button, { variant: "outline", className: "text-white border-white hover:bg-blue-800", children: "Login" }) }), _jsx(Link, { to: "/register", children: _jsx(Button, { variant: "secondary", children: "Register" }) })] })) }), _jsx("div", { className: "flex md:hidden items-center", children: _jsxs("button", { onClick: toggleMenu, className: "inline-flex items-center justify-center p-2 rounded-md text-gray-100 hover:bg-blue-800 focus:outline-none", "aria-expanded": "false", children: [_jsx("span", { className: "sr-only", children: "Open main menu" }), isMenuOpen ? (_jsx(X, { className: "block h-6 w-6", "aria-hidden": "true" })) : (_jsx(Menu, { className: "block h-6 w-6", "aria-hidden": "true" }))] }) })] }) }), isMenuOpen && (_jsx("div", { className: "md:hidden bg-blue-800", children: _jsx("div", { className: "px-2 pt-2 pb-3 space-y-1 sm:px-3", children: isAuthenticated ? (_jsxs(_Fragment, { children: [_jsx(Link, { to: "/dashboard", className: "block px-3 py-2 rounded-md text-base font-medium hover:bg-blue-700", onClick: () => setIsMenuOpen(false), children: "Dashboard" }), (user === null || user === void 0 ? void 0 : user.role) === 'admin' && (_jsx(Link, { to: "/admin", className: "block px-3 py-2 rounded-md text-base font-medium hover:bg-blue-700", onClick: () => setIsMenuOpen(false), children: "Admin Panel" })), _jsxs("div", { className: "pt-4 pb-3 border-t border-blue-700", children: [_jsxs("div", { className: "flex items-center px-4", children: [_jsx("div", { className: "flex-shrink-0", children: _jsx(User, { className: "h-8 w-8 rounded-full bg-blue-600 p-1" }) }), _jsxs("div", { className: "ml-3", children: [_jsx("div", { className: "text-base font-medium", children: user === null || user === void 0 ? void 0 : user.name }), _jsx("div", { className: "text-sm font-medium text-blue-200", children: user === null || user === void 0 ? void 0 : user.email })] })] }), _jsx("div", { className: "mt-3 px-2 space-y-1", children: _jsx("button", { onClick: handleLogout, className: "w-full text-left block px-3 py-2 rounded-md text-base font-medium hover:bg-blue-700 text-white", children: "Sign out" }) })] })] })) : (_jsxs("div", { className: "space-y-2 px-3 py-2", children: [_jsx(Link, { to: "/login", className: "block w-full text-center px-3 py-2 rounded-md text-base font-medium hover:bg-blue-700", onClick: () => setIsMenuOpen(false), children: "Login" }), _jsx(Link, { to: "/register", className: "block w-full text-center px-3 py-2 rounded-md bg-teal-600 text-base font-medium hover:bg-teal-700", onClick: () => setIsMenuOpen(false), children: "Register" })] })) }) }))] }));
};
export default Navbar;
